# AI睡眠&集中コーチ

> 学習習慣を整えたい学生向けに、**眠気度 / 集中度 / 睡眠時間**を入力すると、AI が短く的確な改善アドバイスを返すウェブアプリです。  
> *「日中の眠気」という課題に対し、簡単な自己記録と即時フィードバックで行動変容を促します。*

## 📑 発表スライド

[Googleスライド版はこちら](https://docs.google.com/presentation/d/1xaa3VueUk42SqYvu4W2eIb5u-bOjsXvqBRCYG1Tc1hk/edit?slide=id.g37437f41b89_0_78#slide=id.g37437f41b89_0_78)


---

## 📌 背景・目的

- 少人数チーム（2人）での開発経験を積み、技術力・ソフトスキルを向上させる
- ハッカソンでの成果物を形にし、今後の発展を見据えた基盤を作る
- MVP（Minimum Viable Product）として確実に動くものを完成させることを最優先
- チーム内の認識齟齬を減らし、安定的に開発を進めることを重視

---

## ✨ 主な機能

- **AIコーチング**  
  入力値（眠気度1–5、集中度1–5、睡眠時間[h]）から、*80文字以内*の日本語アドバイスを生成（Gemini API）
- **7日間の可視化**  
  Chart.js で、眠気度 / 集中度 / 睡眠時間の推移を一画面で把握
- **履歴のインライン編集**  
  過去入力の値をその場で編集（将来的にはAPI更新に拡張予定）
- **DB永続化**  
  PostgreSQL に日々の記録を保存・取得

---

## 🧱 技術スタック

- **Backend**：Node.js (Express) / TypeScript / Google Generative AI (Gemini) / dotenv
- **Database**：PostgreSQL（`pg` Pool、プレースホルダで SQLインジェクション対策）
- **Frontend**：HTML / CSS / Vanilla JS / Chart.js（CDN）
- **その他**：ESM / `.env` 管理 / 型安全な API 実装

---

## 🖼 画面イメージ（例）

- 入力フォーム：眠気度・集中度・睡眠時間
- AIからの一言アドバイス表示
- 7日間の折れ線グラフ（スコア軸と睡眠時間軸の複合）
- 履歴リスト & インライン編集

> スクリーンショットや GIF は `./docs/` に保存して貼り付け推奨

---

## 🛠 開発プロセスと工夫

- **少人数チーム構成**  
  初心者メンバーも含まれるため、保守的なスケジュール・設計で進行
- **共通認識づくり**  
  議事録・API仕様書・DB設計を事前に作成し、常に共有
- **コード管理強化**  
  GitHubルール（直接 push 禁止など）を導入して品質維持
- **相互理解の促進**  
  変数名やエンドポイント仕様を常に可視化し、フロントとバックの橋渡しを意識

---

## 👤 自分の役割

- バックエンド全般（API・DB接続・AI連携）
- GitHub運用管理（ルール設定・レビュー）
- チームリーダーとして進行、発表スライド作成・登壇

---

## 👍 良かった点

- MVPを完成させ、ハッカソン発表まで漕ぎつけた
- GitHub運用ルールを初めて導入・運用できた
- 前回のハッカソンの反省を生かし、認識齟齬の少ない進行ができた
- スライドも納得のいくクオリティに仕上げられた

---

## ⚠ 課題と学び

- フロントエンドの実装状況も定期的にレビューしておけば、終盤の認識違いを減らせた
- 他メンバーによるコード追加に関して、事前相談を促すルールを明文化すべきだった
- 保守的に進めすぎて、追加機能や差別化要素を詰めきれなかった

---

## 🔐 セキュリティ / 品質

- **型安全**：TypeScript によるリクエスト型定義
- **入力バリデーション**：数値範囲チェック（フロント/バック）
- **SQLインジェクション対策**：`pg` のプレースホルダ（`$1, $2, ...`）
- **機密情報管理**：`.env` によりAPIキーやDB接続情報を安全に管理
- **接続クリーンアップ**：`SIGINT` で `pool.end()` を実行し安全終了

---

## 🌱 今後の展望

- ユーザー認証 & パーソナライズ（ユーザー別スコアと助言の蓄積）
- 記録編集の**API化（PUT/DELETE）**と履歴管理の強化
- デプロイ（PaaS / マネージドDB）と運用監視

---

